
<!DOCTYPE html>
<html>
<head>
    <title>小富富防洪测试</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        .iframe-container {
            width: 100%;
            height: 100vh;
            position: relative;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="iframe-container">
        <iframe 
            id="adaptiveIframe"
            src="https://xz.xffwz.com/s/TURBd01EQXdNREF3TUg3TGVIQQ" 
            onload="adjustIframeHeight()"
            scrolling="no"
            title="自适应iframe示例"
            sandbox="allow-same-origin allow-scripts">
        </iframe>
    </div>

    <script>
        function adjustIframeHeight() {
            const iframe = document.getElementById('adaptiveIframe');
            try {
                // 同源策略下直接获取内容高度
                iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
            } catch (e) {
                // 跨域情况使用窗口resize监听
                window.addEventListener('resize', () => {
                    iframe.style.height = window.innerHeight + 'px';
                });
                iframe.style.height = window.innerHeight + 'px';
            }
        }
        // 初始加载和窗口变化时都触发调整
        window.onload = adjustIframeHeight;
        window.onresize = adjustIframeHeight;
    </script>
</body>
</html>
